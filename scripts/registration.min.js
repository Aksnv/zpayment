"use strict";var container=document.querySelector(".container"),registrationForm=document.querySelector(".registration-form"),registrationFormFieldText=document.querySelectorAll(".registration-form__field_text"),registrationFormFieldEmail=document.querySelector(".registration-form__field_email"),registrationFormFieldPhone=document.querySelector(".registration-form__field_phone"),registrationFormSignatureEmail=document.querySelectorAll(".registration-form__signature_email"),registrationFormButtonExtraData=document.querySelector(".registration-form__button_extra-data"),registrationFormFieldsetExtraData=document.querySelector(".registration-form__fieldset_extra-data"),isStorageSupport=!0,storage="";try{storage=localStorage.getItem("email")}catch(t){isStorageSupport=!1}document.addEventListener("DOMContentLoaded",function(){storage?(registrationFormFieldEmail.value=storage,registrationFormFieldPhone.focus()):registrationFormFieldEmail.focus();for(var t=registrationFormFieldText.length-1;0<=t;t--)registrationFormFieldText[t].value?registrationFormFieldText[t].nextElementSibling.firstElementChild.classList.add("registration-form__signature_focused"):registrationFormFieldText[t].nextElementSibling.firstElementChild.classList.remove("registration-form__signature_focused");registrationFormFieldsetExtraData.classList.remove("registration-form__fieldset_visible"),registrationFormButtonExtraData.classList.remove("registration-form__button_extra-data_hidden"),320===container.clientWidth?registrationFormButtonExtraData.innerHTML="Еще данные (необязательно)":registrationFormButtonExtraData.innerHTML="Дополнительные данные (необязательно)"}),window.addEventListener("resize",function(){320===container.clientWidth?registrationFormButtonExtraData.innerHTML="Еще данные (необязательно)":registrationFormButtonExtraData.innerHTML="Дополнительные данные (необязательно)"}),registrationFormButtonExtraData.addEventListener("click",function(){registrationFormFieldsetExtraData.classList.toggle("registration-form__fieldset_visible"),registrationFormButtonExtraData.classList.toggle("registration-form__button_extra-data_visible")}),registrationForm.addEventListener("submit",function(t){registrationFormFieldEmail.value||(t.preventDefault(),registrationFormFieldEmail.classList.remove("registration-form__field_valid"),registrationFormFieldEmail.classList.add("registration-form__field_invalid")),isStorageSupport&&localStorage.setItem("email",registrationFormFieldEmail.value)}),registrationForm.addEventListener("blur",function(){for(var t=registrationFormFieldText.length-1;0<=t;t--)registrationFormFieldText[t].value?(registrationFormFieldText[t].classList.remove("registration-form__field_invalid"),registrationFormFieldText[t].classList.add("registration-form__field_valid"),registrationFormFieldText[t].nextElementSibling.firstElementChild.classList.add("registration-form__signature_focused")):registrationFormFieldText[t].nextElementSibling.firstElementChild.classList.remove("registration-form__signature_focused")},!0);